## 📌 State 정의

|State|설명|
|---|---|
|`Created`|에피소드가 생성되었으나 아직 가입 불가|
|`Open`|보험 가입 가능 상태|
|`Locked`|가입 종료, 조건 고정|
|`Resolved`|오라클을 통해 이벤트 결과 확정|
|`Settled`|보험금 지급 및 잉여금 계산 완료|
|`Closed`|모든 권리 소멸, 에피소드 종료|

## 🔄 State Transition 규칙

### 1. `Created → Open`

- 조건:
    - 에피소드 생성 파라미터 검증 완료
- 의미:
    - 참가자 모집 시작

### 2. `Open → Locked`

- 조건:
    - 가입 마감 시간 도래 **또는**
    - 최대 가입 인원/금액 도달
- 효과:
    - 추가 가입 불가
    - 보험 조건 최종 확정

### 3. `Locked → Resolved`

- 조건:
    - 오라클 입력 수신
- 효과:
    - 보험 사고 발생 여부 결정

### 4. `Resolved → Settled`

- 조건:
    - 지급 대상 계산 가능
- 효과:
    - 보험금 지급
    - 잉여금 계산

### 5. `Settled → Closed`

- 조건:
    - 모든 지급 및 분배 완료
- 효과:
    - 이후 모든 함수 호출 차단
    - 에피소드 불변 상태 진입